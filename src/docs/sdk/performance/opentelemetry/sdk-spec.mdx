To transform SDK data to Sentry, we rely on the [OpenTelemetry SpanProcessor](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/sdk.md#span-processor). The SpanProcessor is a component that runs on the same thread as the application code, so it effectively runs in process alongside user code and the Sentry SDK.

The SpanProcessor is responsible for batching spans to become

```py
class SentrySpanProcessor(SpanProcessor):
    def on_start(self, span: Span) -> None:
        if is_root_span(span):
            start_transaction(span)
        else:
            start_span(span)

        pass

    def on_end(self, span: Span) -> None:
        pass

    def shutdown(self) -> None:
        pass

    def force_flush(self, timeout_millis: int = 30000) -> None:
        pass
```
